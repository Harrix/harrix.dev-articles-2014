---
date: 2014-05-25
categories:
  - it
  - programming
tags:
  - Qt
  - –ì—Ä–∞—Ñ–∏–∫–∏
  - C++
  - Chart
  - Plot
update: 2018
author: Anton Sergienko
author-email: anton.b.sergienko@gmail.com
license: CC BY 4.0
license-url: https://github.com/Harrix/harrix.dev/blob/main/LICENSE.md
permalink-source: https://github.com/Harrix/harrix.dev-articles-2014/blob/main/qcustomplot/qcustomplot.md
permalink: https://harrix.dev/ru/articles/2014/qcustomplot/
lang: ru
---

# –ì—Ä–∞—Ñ–∏–∫–∏ –≤ Qt —á–µ—Ä–µ–∑ QCustomPlot

![Featured image](featured-image.svg)

–í —Å—Ç–∞—Ç—å–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ QCustomPlot –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –Ω–∞ QtWidgets.

<details>
<summary>üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</summary>

- [–ì–¥–µ –Ω–∞–π—Ç–∏](#–≥–¥–µ-–Ω–∞–π—Ç–∏)
- [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏](#–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
- [–ì—Ä–∞—Ñ–∏–∫ –≤ –≤–∏–¥–µ —Ç–æ—á–µ–∫](#–≥—Ä–∞—Ñ–∏–∫-–≤-–≤–∏–¥–µ-—Ç–æ—á–µ–∫)
- [–ì—Ä–∞—Ñ–∏–∫ –º–∞—Å—Å–∏–≤–∞ —Ç–æ—á–µ–∫](#–≥—Ä–∞—Ñ–∏–∫-–º–∞—Å—Å–∏–≤–∞-—Ç–æ—á–µ–∫)
- [–°—Ç–∞—Ä—ã–π –ø—Ä–∏–º–µ—Ä](#—Å—Ç–∞—Ä—ã–π-–ø—Ä–∏–º–µ—Ä)

**Update 2018.** –í –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏ Qt –ø–æ—è–≤–∏–ª–∏—Å—å [Qt Charts](http://doc.qt.io/qt-5/qtcharts-index.html), –Ω–æ –æ–Ω–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ GPL –ª–∏—Ü–µ–Ω–∑–∏–∏. –ê —ç—Ç–æ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –æ—á–µ–Ω—å —Å–µ—Ä—å–µ–∑–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤–∞—à–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Qt Charts –Ω—É–∂–Ω–æ –±—Ä–∞—Ç—å –ø–ª–∞—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é Qt.

–ü–æ—ç—Ç–æ–º—É –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã, –∫–æ—Ç–æ—Ä–æ–π –∏ —è–≤–ª—è–µ—Ç—Å—è QCustomPlot.

</details>

## –ì–¥–µ –Ω–∞–π—Ç–∏

–ò–¥–µ–º –Ω–∞ —Å–∞–π—Ç <https://www.qcustomplot.com>:

![–°–∞–π—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏](img/download_01.png)

_–†–∏—Å—É–Ω–æ–∫ 1 ‚Äî –°–∞–π—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏_

–ò —Å–∫–∞—á–∏–≤–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞:

![–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏](img/download_02.png)

_–†–∏—Å—É–Ω–æ–∫ 2 ‚Äî –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏_

–ò–∑ –≤—Å–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–≤–∞ —Ñ–∞–π–ª–∞: `qcustomplot.cpp` –∏ `qcustomplot.h`:

![–§–∞–π–ª—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏](img/files_01.png)

_–†–∏—Å—É–Ω–æ–∫ 3 ‚Äî –§–∞–π–ª—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏_

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–°–æ–∑–¥–∞–¥–∏–º –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Qt Widgets:

![–í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤](img/new-project.png)

_–†–∏—Å—É–Ω–æ–∫ 4 ‚Äî –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤_

–í –ø–∞–ø–∫—É —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–∫–∏–Ω–µ–º –Ω–∞—à–∏ –¥–≤–∞ —Ñ–∞–π–ª–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –û–±—Ä–∞—Ç–∏—Ç–µ –Ω–∞ —ç—Ç–æ—Ç —à–∞–≥ –≤–Ω–∏–º–∞–Ω–∏–µ! –ú–Ω–æ–≥–∏–µ –¥–∞–Ω–Ω—ã–π —à–∞–≥, –∫–∞–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∞, –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç, –∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç –ø–æ—Ç–æ–º –≤ –ø—Ä–æ–µ–∫—Ç —ç—Ç–∏ —Ñ–∞–π–ª—ã –∏–∑ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞, –∞ –Ω–µ –∏–∑ –ø–∞–ø–∫–∏ —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

![–ü–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](img/files_02.png)

_–†–∏—Å—É–Ω–æ–∫ 5 ‚Äî –ü–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞_

–©–µ–ª–∫–Ω–µ–º –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –ø–æ –ø—Ä–æ–µ–∫—Ç—É –≤ Qt Creator –∏ –≤—ã–±–µ—Ä–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤ `Add Existing Files‚Ä¶`:

![Add Existing Files‚Ä¶](img/add-existing-files_01.png)

_–†–∏—Å—É–Ω–æ–∫ 6 ‚Äî Add Existing Files‚Ä¶_

–í—ã–±–µ—Ä–µ–º –¥–≤–∞ –Ω–∞—à–∏—Ö —Ñ–∞–π–ª–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

![–í—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏](img/add-existing-files_02.png)

_–†–∏—Å—É–Ω–æ–∫ 7 ‚Äî –í—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏_

–û–Ω–∏ –¥–æ–±–∞–≤—è—Ç—Å—è –∫ –Ω–∞—à–µ–º—É –ø—Ä–æ–µ–∫—Ç—É:

![–§–∞–π–ª—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ](img/add-existing-files_03.png)

_–†–∏—Å—É–Ω–æ–∫ 8 ‚Äî –§–∞–π–ª—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ_

–ü–µ—Ä–µ–π–¥–µ–º –≤ —Ñ–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞ `.pro` –∏ –¥–æ–ø–∏—à–µ–º —Ç–∞–º —Å–ª–æ–≤–æ `printsupport`:

![–§–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞ .pro](img/printsupport.png)

_–†–∏—Å—É–Ω–æ–∫ 9 ‚Äî –§–∞–π–ª –ø—Ä–æ–µ–∫—Ç–∞ .pro_

–ü–µ—Ä–µ–π–¥–µ–º –Ω–∞ —Ñ–æ—Ä–º—É:

![–§–æ—Ä–º–∞ –ø—Ä–æ–µ–∫—Ç–∞](img/form.png)

_–†–∏—Å—É–Ω–æ–∫ 10 ‚Äî –§–æ—Ä–º–∞ –ø—Ä–æ–µ–∫—Ç–∞_

–†–∞–∑–º–µ—Å—Ç–∏–º —Ç–∞–º –∫–Ω–æ–ø–∫—É –∏ `Widget`:

![–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ —Ñ–æ—Ä–º–µ](img/widget_01.png)

_–†–∏—Å—É–Ω–æ–∫ 11 ‚Äî –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ —Ñ–æ—Ä–º–µ_

–©–µ–ª–∫–Ω–µ–º –ø–æ `Widget` –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –∏ –ø–µ—Ä–µ–π–¥–µ–º –∫ `Promote to‚Ä¶`:

![Promote to‚Ä¶](img/widget_02.png)

_–†–∏—Å—É–Ω–æ–∫ 12 ‚Äî Promote to‚Ä¶_

–¢–∞–º –ø—Ä–æ–ø–∏—à–µ–º –∫–ª–∞—Å—Å –≥—Ä–∞—Ñ–∏–∫–æ–≤ `QCustomPlot` –∏ –Ω–∞–∂–º–µ–º –Ω–∞ `Add‚Ä¶`:

![–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏](img/widget_03.png)

_–†–∏—Å—É–Ω–æ–∫ 13 ‚Äî –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏_

–ê –ø–æ—Ç–æ–º –Ω–∞ `Promote`:

![–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫ –≤–∏–¥–∂–µ—Ç—É](img/widget_04.png)

_–†–∏—Å—É–Ω–æ–∫ 14 ‚Äî –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫ –≤–∏–¥–∂–µ—Ç—É_

–í–Ω–µ—à–Ω–µ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å, –Ω–æ, –µ—Å–ª–∏ –º—ã –∑–∞–ø—É—Å—Ç–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ç–æ —É–≤–∏–¥–∏–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—É—é —Å–µ—Ç–∫—É:

![–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](img/run.png)

_–†–∏—Å—É–Ω–æ–∫ 15 ‚Äî –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è_

![–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–µ—Ç–∫–∞ –≤ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏](img/application.png)

_–†–∏—Å—É–Ω–æ–∫ 16 ‚Äî –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–µ—Ç–∫–∞ –≤ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏_

–ò–Ω–æ–≥–¥–∞ –ø–æ—Å–ª–µ –¥–∞–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –∫–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ –∏ —Å–µ—Ä–∞—è –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±—ã—Ç—å –∑–µ–ª–µ–Ω–æ–π. –î–∞–Ω–Ω—ã–π –≥–ª—é–∫, –º–æ–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –±—ã—Å—Ç—Ä–æ —Ä–µ—à–∏—Ç—å, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å Debug –Ω–∞ Release (–∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç), –∞ –ø–æ—Ç–æ–º –æ–±—Ä–∞—Ç–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å:

![–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ —Å–±–æ—Ä–∫–∏](img/release-debug.png)

_–†–∏—Å—É–Ω–æ–∫ 17 ‚Äî –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ —Å–±–æ—Ä–∫–∏_

–¢–µ–ø–µ—Ä—å –Ω–∞—Ä–∏—Å—É–µ–º –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –≥—Ä–∞—Ñ–∏–∫. –ù–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Widget, —á—Ç–æ–±—ã –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–µ–º—É:

![–ù–∞—Ö–æ–∂–¥–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞](img/widget_05.png)

_–†–∏—Å—É–Ω–æ–∫ 18 ‚Äî –ù–∞—Ö–æ–∂–¥–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞_

–ü–µ—Ä–µ–π–¥–µ–º –∫ –∫–æ–¥—É –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ:

![–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–æ—Ç—É –∫–Ω–æ–ø–∫–∏](img/go-to-slot.png)

_–†–∏—Å—É–Ω–æ–∫ 19 ‚Äî –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–æ—Ç—É –∫–Ω–æ–ø–∫–∏_

–ò –Ω–∞–ø–∏—à–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫–æ–π –∫–æ–¥:

```cpp
//–†–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ y=x*x
//–°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ
//–î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º –¥–≤–∞ –º–∞—Å—Å–∏–≤–∞ —Ç–æ—á–µ–∫:
//–æ–¥–∏–Ω –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è x –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–µ–∫,
//–∞ –≤—Ç–æ—Ä–æ–π –¥–ª—è y —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ
double a = -1; //–ù–∞—á–∞–ª–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞, –≥–¥–µ —Ä–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ –ø–æ –æ—Å–∏ Ox
double b =  1; //–ö–æ–Ω–µ—Ü –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞, –≥–¥–µ —Ä–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ –ø–æ –æ—Å–∏ Ox
double h = 0.01; //–®–∞–≥, —Å –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ–º –ø—Ä–æ–±–µ–≥–∞—Ç—å –ø–æ –æ—Å–∏ Ox
int N = (b - a) / h + 2; //–í—ã—á–∏—Å–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ–º –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å
QVector<double> x(N), y(N); //–ú–∞—Å—Å–∏–≤—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–µ–∫

//–í—ã—á–∏—Å–ª—è–µ–º –Ω–∞—à–∏ –¥–∞–Ω–Ω—ã–µ
int i=0;
//–ü—Ä–æ–±–µ–≥–∞–µ–º –ø–æ –≤—Å–µ–º —Ç–æ—á–∫–∞–º
for (double X = a; X <= b; X += h) {
  x[i] = X;
  y[i] = X * X;//–§–æ—Ä–º—É–ª–∞ –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
  i++;
}
ui->widget->clearGraphs();//–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –Ω–æ –æ—á–∏—â–∞–µ–º –≤—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏

//–î–æ–±–∞–≤–ª—è–µ–º –æ–¥–∏–Ω –≥—Ä–∞—Ñ–∏–∫ –≤ widget
ui->widget->addGraph();

//–ì–æ–≤–æ—Ä–∏–º, —á—Ç–æ –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –Ω—É–∂–Ω–æ –≥—Ä–∞—Ñ–∏–∫ –ø–æ –Ω–∞—à–∏–º –¥–≤—É–º –º–∞—Å—Å–∏–≤–∞–º x –∏ y
ui->widget->graph(0)->setData(x, y);

//–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –æ—Å–∏ Ox –∏ Oy
ui->widget->xAxis->setLabel("x");
ui->widget->yAxis->setLabel("y");

//–£—Å—Ç–∞–Ω–æ–≤–∏–º –æ–±–ª–∞—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
ui->widget->xAxis->setRange(a, b);//–î–ª—è –æ—Å–∏ Ox

//–î–ª—è –ø–æ–∫–∞–∑–∞ –≥—Ä–∞–Ω–∏—Ü –ø–æ –æ—Å–∏ Oy —Å–ª–æ–∂–Ω–µ–µ, —Ç–∞–∫ –∫–∞–∫ –Ω–∞–¥–æ –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É
//–≤—ã—á–∏—Å–ª–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –≤–µ–∫—Ç–æ—Ä–∞—Ö
double minY = y[0], maxY = y[0];
for (int i = 1; i < N; i++) {
  if (y[i] < minY) minY = y[i];
  if (y[i] > maxY) maxY = y[i];
}
ui->widget->yAxis->setRange(minY, maxY);//–î–ª—è –æ—Å–∏ Oy

//–ò –ø–µ—Ä–µ—Ä–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ –Ω–∞—à–µ–º widget
ui->widget->replot();
```

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –ø–æ–ª—É—á–∏–º –≤–æ—Ç —ç—Ç–æ:

![–ì—Ä–∞—Ñ–∏–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏](img/result_01.png)

_–†–∏—Å—É–Ω–æ–∫ 20 ‚Äî –ì—Ä–∞—Ñ–∏–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏_

–í–æ—Ç –∏ –≤—Å—ë. –ú–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –µ—â—ë –≤ –∞—Ä—Ö–∏–≤–µ —Å –¥–∞–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π, —á—Ç–æ –≤—ã —Å–∫–∞—á–∏–≤–∞–ª–∏, –∏ –Ω–∞ —Å–∞–π—Ç–µ –µ–µ —Ç–æ–∂–µ –º–Ω–æ–≥–æ. –¢–∞–∫ —á—Ç–æ –¥–µ—Ä–∑–∞–π—Ç–µ!

## –ì—Ä–∞—Ñ–∏–∫ –≤ –≤–∏–¥–µ —Ç–æ—á–µ–∫

–ß—Ç–æ–±—ã –≥—Ä–∞—Ñ–∏–∫ —Ä–∏—Å–æ–≤–∞–ª—Å—è –Ω–µ –ª–∏–Ω–∏–µ–π, –∞ —Ç–æ—á–∫–∞–º–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å —ç—Ç–æ –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö –≥—Ä–∞—Ñ–∏–∫–∞. –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞:

```cpp
ui->widget->graph(0)->setPen(QColor(50, 50, 50, 255));//–∑–∞–¥–∞–µ–º —Ü–≤–µ—Ç —Ç–æ—á–∫–∏
ui->widget->graph(0)->setLineStyle(QCPGraph::lsNone);//—É–±–∏—Ä–∞–µ–º –ª–∏–Ω–∏–∏
//—Ñ–æ—Ä–º–∏—Ä—É–µ–º –≤–∏–¥ —Ç–æ—á–µ–∫
ui->widget->graph(0)->setScatterStyle(QCPScatterStyle(QCPScatterStyle::ssCircle, 4));
```

–ü–æ–ª–Ω—ã–π –∫–æ–¥:

```cpp
//–†–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ —Ç–æ—á–∫–∞–º–∏ y=x*x
//–°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ
//–î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º –¥–≤–∞ –º–∞—Å—Å–∏–≤–∞ —Ç–æ—á–µ–∫:
//–æ–¥–∏–Ω –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è x –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–µ–∫,
//–∞ –≤—Ç–æ—Ä–æ–π –¥–ª—è y —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ
double a = -1; //–ù–∞—á–∞–ª–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞, –≥–¥–µ —Ä–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ –ø–æ –æ—Å–∏ Ox
double b =  1; //–ö–æ–Ω–µ—Ü –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞, –≥–¥–µ —Ä–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ –ø–æ –æ—Å–∏ Ox
double h = 0.1; //–®–∞–≥, —Å –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ–º –ø—Ä–æ–±–µ–≥–∞—Ç—å –ø–æ –æ—Å–∏ Ox
int N = (b - a) / h + 2; //–í—ã—á–∏—Å–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ–º –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å
QVector<double> x(N), y(N); //–ú–∞—Å—Å–∏–≤—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–µ–∫

//–í—ã—á–∏—Å–ª—è–µ–º –Ω–∞—à–∏ –¥–∞–Ω–Ω—ã–µ
int i=0;
//–ü—Ä–æ–±–µ–≥–∞–µ–º –ø–æ –≤—Å–µ–º —Ç–æ—á–∫–∞–º
for (double X = a; X <= b; X += h) {
  x[i] = X;
  y[i] = X * X;//–§–æ—Ä–º—É–ª–∞ –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
  i++;
}
ui->widget->clearGraphs();//–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –Ω–æ –æ—á–∏—â–∞–µ–º –≤—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏

//–î–æ–±–∞–≤–ª—è–µ–º –æ–¥–∏–Ω –≥—Ä–∞—Ñ–∏–∫ –≤ widget
ui->widget->addGraph();

//–ì–æ–≤–æ—Ä–∏–º, —á—Ç–æ –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –Ω—É–∂–Ω–æ –≥—Ä–∞—Ñ–∏–∫ –ø–æ –Ω–∞—à–∏–º –¥–≤—É–º –º–∞—Å—Å–∏–≤–∞–º x –∏ y
ui->widget->graph(0)->setData(x, y);
ui->widget->graph(0)->setPen(QColor(50, 50, 50, 255));//–∑–∞–¥–∞–µ–º —Ü–≤–µ—Ç —Ç–æ—á–∫–∏
ui->widget->graph(0)->setLineStyle(QCPGraph::lsNone);//—É–±–∏—Ä–∞–µ–º –ª–∏–Ω–∏–∏

//—Ñ–æ—Ä–º–∏—Ä—É–µ–º –≤–∏–¥ —Ç–æ—á–µ–∫
ui->widget->graph(0)->setScatterStyle(QCPScatterStyle(QCPScatterStyle::ssCircle, 4));

//–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –æ—Å–∏ Ox –∏ Oy
ui->widget->xAxis->setLabel("x");
ui->widget->yAxis->setLabel("y");

//–£—Å—Ç–∞–Ω–æ–≤–∏–º –æ–±–ª–∞—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
ui->widget->xAxis->setRange(a, b);//–î–ª—è –æ—Å–∏ Ox

//–î–ª—è –ø–æ–∫–∞–∑–∞ –≥—Ä–∞–Ω–∏—Ü –ø–æ –æ—Å–∏ Oy —Å–ª–æ–∂–Ω–µ–µ, —Ç–∞–∫ –∫–∞–∫ –Ω–∞–¥–æ –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É
//–≤—ã—á–∏—Å–ª–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –≤–µ–∫—Ç–æ—Ä–∞—Ö
double minY = y[0], maxY = y[0];
for (int i = 1; i < N; i++) {
  if (y[i] < minY) minY = y[i];
  if (y[i] > maxY) maxY = y[i];
}
ui->widget->yAxis->setRange(minY, maxY);//–î–ª—è –æ—Å–∏ Oy

//–ò –ø–µ—Ä–µ—Ä–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ –Ω–∞—à–µ–º widget
ui->widget->replot();
```

![–ì—Ä–∞—Ñ–∏–∫ –≤ –≤–∏–¥–µ —Ç–æ—á–µ–∫](img/result_02.png)

_–†–∏—Å—É–Ω–æ–∫ 21 ‚Äî –ì—Ä–∞—Ñ–∏–∫ –≤ –≤–∏–¥–µ —Ç–æ—á–µ–∫_

## –ì—Ä–∞—Ñ–∏–∫ –º–∞—Å—Å–∏–≤–∞ —Ç–æ—á–µ–∫

–ù–∏–∂–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä, –≥–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≥—Ä–∞—Ñ–∏–∫ –≤ –≤–∏–¥–µ —Ç–æ—á–µ–∫ –∏–∑ –Ω–∞–±–æ—Ä–∞ —Ç–æ—á–µ–∫, –∑–∞–¥–∞–Ω–Ω—ã—Ö –≤—Ä—É—á–Ω—É—é:

```cpp
//–†–∏—Å—É–µ–º —Ç–æ—á–∫–∏
int N = 5; //–î–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ —É –Ω–∞—Å –ø—è—Ç—å —Ç–æ—á–µ–∫
QVector<double> x(N), y(N); //–ú–∞—Å—Å–∏–≤—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–µ–∫

//–ó–∞–¥–∞–¥–∏–º –Ω–∞—à–∏ —Ç–æ—á–∫–∏
x[0] = 1.0; y[0] = 2.0;
x[1] = 4.0; y[1] = 1.0;
x[2] = 3.0; y[2] = 0.0;
x[3] = 0.5; y[3] = 2.2;
x[4] = 1.5; y[4] = 0.7;
ui->widget->clearGraphs();//–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –Ω–æ –æ—á–∏—â–∞–µ–º –≤—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏

//–î–æ–±–∞–≤–ª—è–µ–º –æ–¥–∏–Ω –≥—Ä–∞—Ñ–∏–∫ –≤ widget
ui->widget->addGraph();

//–ì–æ–≤–æ—Ä–∏–º, —á—Ç–æ –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –Ω—É–∂–Ω–æ –≥—Ä–∞—Ñ–∏–∫ –ø–æ –Ω–∞—à–∏–º –¥–≤—É–º –º–∞—Å—Å–∏–≤–∞–º x –∏ y
ui->widget->graph(0)->setData(x, y);
ui->widget->graph(0)->setPen(QColor(50, 50, 50, 255));//–∑–∞–¥–∞–µ–º —Ü–≤–µ—Ç —Ç–æ—á–∫–∏
ui->widget->graph(0)->setLineStyle(QCPGraph::lsNone);//—É–±–∏—Ä–∞–µ–º –ª–∏–Ω–∏–∏

//—Ñ–æ—Ä–º–∏—Ä—É–µ–º –≤–∏–¥ —Ç–æ—á–µ–∫
ui->widget->graph(0)->setScatterStyle(QCPScatterStyle(QCPScatterStyle::ssCircle, 4));

//–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –æ—Å–∏ Ox –∏ Oy
ui->widget->xAxis->setLabel("x");
ui->widget->yAxis->setLabel("y");

//–£—Å—Ç–∞–Ω–æ–≤–∏–º –æ–±–ª–∞—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
ui->widget->xAxis->setRange(-1, 5);//–î–ª—è –æ—Å–∏ Ox
ui->widget->yAxis->setRange(-1, 3);//–î–ª—è –æ—Å–∏ Oy

//–ò –ø–µ—Ä–µ—Ä–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ –Ω–∞—à–µ–º widget
ui->widget->replot();
```

![–¢–æ—á–µ—á–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –∏–∑ –º–∞—Å—Å–∏–≤–æ–≤](img/result_03.png)

_–†–∏—Å—É–Ω–æ–∫ 22 ‚Äî –¢–æ—á–µ—á–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –∏–∑ –º–∞—Å—Å–∏–≤–æ–≤_

## –°—Ç–∞—Ä—ã–π –ø—Ä–∏–º–µ—Ä

–î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏ 2015-12-01 —Ç—É—Ç –±—ã–ª –≤–æ—Ç —Ç–∞–∫–æ–π –ø—Ä–∏–º–µ—Ä:

```cpp
 // generate some data:
QVector<double> x(101), y(101); // initialize with entries 0..100
for (int i = 0; i < 101; ++i) {
  x[i] = i/50.0 - 1; // x goes from -1 to 1
  y[i] = x[i] * x[i]; // let's plot a quadratic function
}

// create graph and assign data to it:
ui->widget->addGraph();
ui->widget->graph(0)->setData(x, y);

// give the axes some labels:
ui->widget->xAxis->setLabel("x");
ui->widget->yAxis->setLabel("y");

// set axes ranges, so we see all data:
ui->widget->xAxis->setRange(-1, 1);
ui->widget->yAxis->setRange(0, 1);
ui->widget->replot();
```
